<div style="max-width: 500px; margin: auto; position: relative;">
  <style>
    .comparison-container {
      position: relative;
      width: 100%;
      overflow: hidden;
      font-family: sans-serif;
    }

    .comparison-container img {
      width: 100%;
      display: block;
    }

    .comparison-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 50%;
      overflow: hidden;
    }

    .comparison-overlay img {
      display: block;
    }

    .comparison-slider {
      position: absolute;
      top: 0;
      left: 50%;
      width: 3px;
      height: 100%;
      background-color: #fff;
      border-left: 2px solid #000;
      border-right: 2px solid #000;
      cursor: ew-resize;
      z-index: 2;
    }

    .label-before,
    .label-after {
      position: absolute;
      top: 10px;
      padding: 5px 10px;
      background: rgba(0, 0, 0, 0.6);
      color: white;
      font-weight: bold;
      font-size: 14px;
      border-radius: 4px;
      z-index: 3;
    }

    .label-before {
      left: 10px;
    }

    .label-after {
      right: 10px;
    }
  </style>

  <div class="comparison-container" id="compareBox">
    <span class="label-before">Before</span>
    <span class="label-after">After</span>

    <img src="https://static.wixstatic.com/media/feda1d_92ac6a9972734f12ab199ac521bf33fa~mv2.jpg/v1/fill/w_200,h_266,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/IMG_6330.jpg" alt="After">

    <div class="comparison-overlay" id="overlay">
      <img src="https://static.wixstatic.com/media/feda1d_f5ff81ca6cae4dc6aa47b08184487d35~mv2.jpg/v1/fill/w_200,h_266,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/IMG_2818.jpg" alt="Before">
    </div>

    <div class="comparison-slider" id="slider"></div>
  </div>

  <script>
    const container = document.getElementById("compareBox");
    const overlay = document.getElementById("overlay");
    const slider = document.getElementById("slider");

    let isDragging = false;

    container.addEventListener("mousedown", function () {
      isDragging = true;
    });

    window.addEventListener("mouseup", function () {
      isDragging = false;
    });

    window.addEventListener("mousemove", function (e) {
      if (!isDragging) return;

      const rect = container.getBoundingClientRect();
      let x = e.clientX - rect.left;
      if (x < 0) x = 0;
      if (x > rect.width) x = rect.width;

      overlay.style.width = x + "px";
      slider.style.left = x + "px";
    });

    // Set initial position
    overlay.style.width = "50%";
    slider.style.left = "50%";
  </script>
</div>
